/*
formBuilder - https://formbuilder.online/
Version: 1.17.1
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";function FormRenderFn(e,t){var n=fbUtils,r=this,a={destroyTemplate:!0,container:!1,dataType:"xml",formData:!1,label:{formRendered:"Form Rendered",noFormData:"No form data.",other:"Other",selectColor:"Select Color"},render:!0,notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}}},i={},o=$.extend(!0,a,e);!function(){if(!o.formData)return!1;var e={xml:function(e){return n.parseXML(e)},json:function(e){return window.JSON.parse(e)}};o.formData=e[o.dataType](o.formData)||!1}(),i.fieldRender=function(e){var t="",r="",a="",i=e.label||"",l=e.description||"",s="",c=e.values||[];e.id=e.name,e.type=e.subtype||e.type,e.required&&(e.required=null,e["aria-required"]="true",s='<span class="required">*</span>'),"hidden"!==e.type&&(l&&(l='<span class="tooltip-element" tooltip="'+l+'">?</span>'),r='<label for="'+e.id+'">'+i+" "+s+" "+l+"</label>");var f=e.label;delete e.label,delete e.description;var u=n.attrString(e);switch(e.type){case"textarea":case"rich-text":delete e.type;var d=e.value||"";t=r+"<textarea "+u+">"+d+"</textarea>";break;case"select":var p;if(e.type=e.type.replace("-group",""),c)for(var v=0;v<c.length;v++)c[v].selected||delete c[v].selected,p=n.attrString(c[v]),a+="<option "+p+">"+c[v].label+"</option>";t=r+"<select "+u+">"+a+"</select>";break;case"checkbox-group":case"radio-group":var m=void 0;if(e.type=e.type.replace("-group",""),c){for(var b="checkbox"===e.type?e.name+"[]":e.name,y=void 0,h=0;h<c.length;h++)m=Object.assign({},e,c[h]),m.selected&&(delete m.selected,m.checked=null),m.name=b,m.id=e.id+"-"+h,y=n.attrString(m),a+="<input "+y+' /> <label for="'+m.id+'">'+m.label+"</label><br>";if(e.enableOther||e["enable-other"]){var g={id:e.id+"-other",className:(e["class"]||e.className)+" other-option"};y=n.attrString(Object.assign({},e,g)),a+="<input "+y+' /> <label for="'+g.id+'">'+o.label.other+'</label> <input type="text" data-other-id="'+g.id+'" name="'+b+'" id="'+g.id+'-value" style="display:none;" />'}}t=r+'<div class="'+e.type+'-group">'+a+"</div>";break;case"text":case"password":case"email":case"number":case"file":case"hidden":case"date":case"autocomplete":t=r+" <input "+u+">";break;case"color":t=r+" <input "+u+"> "+o.label.selectColor;break;case"button":case"submit":t="<button "+u+">"+f+"</button>";break;case"checkbox":t="<input "+u+"> "+r,e.toggle&&setTimeout(function(){$(document.getElementById(e.id)).kcToggle()},100);break;default:t="<"+e.type+" "+u+">"+f+"</"+e.type+">"}if("hidden"!==e.type){var k=e.id?"form-group field-"+e.id:"";t=n.markup("div",t,{className:k})}else t=n.markup("input",null,e);return t},Element.prototype.appendFormFields=function(e){var t=this;e.reverse();for(var n=e.length-1;n>=0;n--)t.appendChild(e[n])},Element.prototype.emptyContainer=function(){for(var e=this;e.lastChild;)e.removeChild(e.lastChild)};var l=function(){for(var e=document.getElementsByClassName("other-option"),t=function(){var t=document.getElementById(e[n].id+"-value");e[n].onclick=function(){var e=this;this.checked?(t.style.display="inline-block",e.nextElementSibling.style.display="none",t.oninput=function(){e.value=this.value}):(t.style.display="none",e.nextElementSibling.style.display="inline-block",t.oninput=void 0)}},n=0;n<e.length;n++)t()},s=function(){l()},c=[];if(o.formData){for(var f=0;f<o.formData.length;f++)c.push(i.fieldRender(o.formData[f]));if(o.render){if(o.container){var u=n.markup("div",c,{className:"rendered-form"});o.container=o.container instanceof jQuery?o.container[0]:o.container,o.container.emptyContainer(),o.container.appendChild(u)}else t&&(t.emptyContainer(),t.appendFormFields(c));s(),o.notify.success(o.label.formRendered)}else r.markup=c.map(function(e){return e.innerHTML}).join("")}else{var d=n.markup("div",o.label.noFormData,{className:"no-form-data"});c.push(d),o.notify.error(o.label.noFormData)}return r}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof Event&&!function(){window.Event=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}}(),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),function(e){var t=function(t,n){var r={theme:"fresh",labels:{off:"Off",on:"On"}},a=e.extend(r,n),i=e('<div class="kc-toggle"/>').insertAfter(t).append(t);i.toggleClass("on",t.is(":checked"));var o='<div class="kct-on">'+a.labels.on+"</div>",l='<div class="kct-off">'+a.labels.off+"</div>",s='<div class="kct-handle"></div>',c='<div class="kct-inner">'+o+s+l+"</div>";i.append(c),i.click(function(){t.attr("checked",!t.attr("checked")),e(this).toggleClass("on")})};e.fn.kcToggle=function(n){var r=this;return r.each(function(){var r=e(this);if(!r.data("kcToggle")){var a=new t(r,n);r.data("kcToggle",a)}})}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},fbUtils={};fbUtils.inArray=function(e,t){return-1!==t.indexOf(e)},fbUtils.trimObj=function(e){var t=[null,void 0,"",!1];for(var n in e)fbUtils.inArray(e[n],t)&&delete e[n];return e},fbUtils.makeId=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=(new Date).getTime();return e.tagName+"-"+t},fbUtils.validAttr=function(e){var t=["values","enableOther","other","label","style","subtype"];return!fbUtils.inArray(e,t)},fbUtils.attrString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&fbUtils.validAttr(n)&&(n=fbUtils.safeAttr(n,e[n]),t.push(n.name+n.value));return t.join(" ")},fbUtils.safeAttr=function(e,t){e=fbUtils.safeAttrName(e);var n=window.JSON.stringify(fbUtils.escapeAttr(t));return t=t?"="+n:"",{name:e,value:t}},fbUtils.safeAttrName=function(e){var t={className:"class"};return t[e]||fbUtils.hyphenCase(e)},fbUtils.hyphenCase=function(e){return e=e.replace(/[^\w\s\-]/gi,""),e=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),e.replace(/\s/g,"-").replace(/^-+/g,"")},fbUtils.camelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return e=e,t.toUpperCase()})},fbUtils.markup=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=void 0,a=document.createElement(e),i=function(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":_typeof(e)},o={string:function(e){a.innerHTML=e},object:function(e){return a.appendChild(e)},array:function(e){for(var t=0;t<e.length;t++)r=i(e[t]),o[r](e[t])}};for(var l in n)if(n.hasOwnProperty(l)){var s=fbUtils.safeAttrName(l);a.setAttribute(s,n[l])}return r=i(t),t&&o[r].call(this,t),a},fbUtils.parseAttrs=function(e){var t=e.attributes,n={};for(var r in t)t.hasOwnProperty(r)&&(n[t[r].name]=t[r].value);return n},fbUtils.parseOptions=function(e){var t=e.getElementsByTagName("option"),n={},r=[];if(t.length)for(var a=0;a<t.length;a++)n=fbUtils.parseAttrs(t[a]),n.label=t[a].textContent,r.push(n);return r},fbUtils.parseXML=function(e){var t=new window.DOMParser,n=t.parseFromString(e,"text/xml"),r=[];if(n)for(var a=n.getElementsByTagName("field"),i=0;i<a.length;i++){var o=fbUtils.parseAttrs(a[i]);o.values=fbUtils.parseOptions(a[i]),r.push(o)}return r},fbUtils.escapeHtml=function(e){var t=document.createElement("textarea");return t.textContent=e,t.innerHTML},fbUtils.escapeAttr=function(e){function t(e){return n[e]||e}var n={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};return"string"==typeof e?e.replace(/["&<>]/g,t):e},fbUtils.escapeAttrs=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=fbUtils.escapeAttr(e[t]));return e},function(e){e.fn.formRender=function(e){this.each(function(){var t=new FormRenderFn(e,this);return t})}}(jQuery);