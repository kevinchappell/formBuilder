/*
formBuilder - https://formbuilder.online/
Version: 1.20.3
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";function FormRenderFn(e,t){var n=fbUtils,r=this,a={destroyTemplate:!0,container:!1,dataType:"xml",formData:!1,label:{formRendered:"Form Rendered",noFormData:"No form data.",other:"Other",selectColor:"Select Color"},render:!0,notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}}},i={},o=$.extend(!0,a,e);!function(){if(!o.formData)return!1;var e={xml:function(e){return n.parseXML(e)},json:function(e){return window.JSON.parse(e)}};o.formData=e[o.dataType](o.formData)||!1}(),i.fieldRender=function(e){var t="",r="",a="",i=e.label||"",l=e.description||"",s="",c=e.values||[];e.id=e.name,e.name=e.multiple?e.name+"[]":e.name,e.type=e.subtype||e.type,e.required&&(e.required=null,e["aria-required"]="true",s='<span class="required">*</span>'),"hidden"!==e.type&&(l&&(l='<span class="tooltip-element" tooltip="'+l+'">?</span>'),r='<label for="'+e.id+'">'+i+" "+s+" "+l+"</label>");var f=e.label;delete e.label,delete e.description;var u=n.attrString(e);switch(e.type){case"textarea":case"rich-text":delete e.type;var p=e.value||"";t=r+"<textarea "+u+">"+p+"</textarea>";break;case"select":var d;if(e.type=e.type.replace("-group",""),c)for(var m=0;m<c.length;m++)c[m].selected||delete c[m].selected,d=n.attrString(c[m]),a+="<option "+d+">"+c[m].label+"</option>";t=r+"<select "+u+">"+a+"</select>";break;case"checkbox-group":case"radio-group":var v=void 0;if(e.type=e.type.replace("-group",""),"checkbox"===e.type&&(e.name=e.name+"[]"),c){for(var b=void 0,y=0;y<c.length;y++)v=Object.assign({},e,c[y]),v.selected&&(delete v.selected,v.checked=null),v.id=e.id+"-"+y,b=n.attrString(v),a+="<input "+b+' /> <label for="'+v.id+'">'+v.label+"</label><br>";if(e.enableOther||e["enable-other"]){var h={id:e.id+"-other",className:e.className+" other-option"};b=n.attrString(Object.assign({},e,h)),a+="<input "+b+' /> <label for="'+h.id+'">'+o.label.other+'</label> <input type="text" data-other-id="'+h.id+'" name="'+h.name+'" id="'+h.id+'-value" style="display:none;" />'}}t=r+'<div class="'+e.type+'-group">'+a+"</div>";break;case"text":case"password":case"email":case"number":case"file":case"hidden":case"date":case"tel":case"autocomplete":t=r+" <input "+u+">";break;case"color":t=r+" <input "+u+"> "+o.label.selectColor;break;case"button":case"submit":t="<button "+u+">"+f+"</button>";break;case"checkbox":t="<input "+u+"> "+r,e.toggle&&setTimeout(function(){$(document.getElementById(e.id)).kcToggle()},100);break;default:t="<"+e.type+" "+u+">"+f+"</"+e.type+">"}if("hidden"!==e.type){var g=e.id?"form-group field-"+e.id:"";t=n.markup("div",t,{className:g})}else t=n.markup("input",null,e);return t},Element.prototype.appendFormFields=function(e){var t=this;e.reverse();for(var n=e.length-1;n>=0;n--)t.appendChild(e[n])},Element.prototype.emptyContainer=function(){for(var e=this;e.lastChild;)e.removeChild(e.lastChild)};var l=function(){for(var e=document.getElementsByClassName("other-option"),t=function(){var t=document.getElementById(e[n].id+"-value");e[n].onclick=function(){var e=this;this.checked?(t.style.display="inline-block",e.nextElementSibling.style.display="none",t.oninput=function(){e.value=this.value}):(t.style.display="none",e.nextElementSibling.style.display="inline-block",t.oninput=void 0)}},n=0;n<e.length;n++)t()},s=function(){l()},c=function(e){var t=Object.assign({},e);return t.className=e.className||e["class"]||null,delete t["class"],n.trimObj(t)},f=[];if(o.formData){for(var u=0;u<o.formData.length;u++){var p=c(o.formData[u]);f.push(i.fieldRender(p))}if(o.render){if(o.container){var d=n.markup("div",f,{className:"rendered-form"});o.container=o.container instanceof jQuery?o.container[0]:o.container,o.container.emptyContainer(),o.container.appendChild(d)}else t&&(t.emptyContainer(),t.appendFormFields(f));s(),o.notify.success(o.label.formRendered)}else r.markup=f.map(function(e){return e.innerHTML}).join("")}else{var m=n.markup("div",o.label.noFormData,{className:"no-form-data"});f.push(m),o.notify.error(o.label.noFormData)}return r}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof Event&&!function(){window.Event=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}}(),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),function(e){var t=function(t,n){var r={theme:"fresh",labels:{off:"Off",on:"On"}},a=e.extend(r,n),i=e('<div class="kc-toggle"/>').insertAfter(t).append(t);i.toggleClass("on",t.is(":checked"));var o='<div class="kct-on">'+a.labels.on+"</div>",l='<div class="kct-off">'+a.labels.off+"</div>",s='<div class="kct-handle"></div>',c='<div class="kct-inner">'+o+s+l+"</div>";i.append(c),i.click(function(){t.attr("checked",!t.attr("checked")),e(this).toggleClass("on")})};e.fn.kcToggle=function(n){var r=this;return r.each(function(){var r=e(this);if(!r.data("kcToggle")){var a=new t(r,n);r.data("kcToggle",a)}})}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fbUtils={};fbUtils.inArray=function(e,t){return t.indexOf(e)!==-1},fbUtils.trimObj=function(e){var t=[null,void 0,"",!1];for(var n in e)fbUtils.inArray(e[n],t)&&delete e[n];return e},fbUtils.makeId=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(new Date).getTime();return e.tagName+"-"+t},fbUtils.validAttr=function(e){var t=["values","enableOther","other","label","subtype"];return!fbUtils.inArray(e,t)},fbUtils.attrString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&fbUtils.validAttr(n)&&(n=fbUtils.safeAttr(n,e[n]),t.push(n.name+n.value));return t.join(" ")},fbUtils.safeAttr=function(e,t){e=fbUtils.safeAttrName(e);var n=fbUtils.escapeAttr(t);return t=t?'="'+n+'"':"",{name:e,value:t}},fbUtils.safeAttrName=function(e){var t={className:"class"};return t[e]||fbUtils.hyphenCase(e)},fbUtils.hyphenCase=function(e){return e=e.replace(/[^\w\s\-]/gi,""),e=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),e.replace(/\s/g,"-").replace(/^-+/g,"")},fbUtils.camelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return e=e,t.toUpperCase()})},fbUtils.markup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,a=document.createElement(e),i=function(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":_typeof(e)},o={string:function(e){a.innerHTML=e},object:function(e){return a.appendChild(e)},array:function(e){for(var t=0;t<e.length;t++)r=i(e[t]),o[r](e[t])}};for(var l in n)if(n.hasOwnProperty(l)){var s=fbUtils.safeAttrName(l);a.setAttribute(s,n[l])}return r=i(t),t&&o[r].call(this,t),a},fbUtils.parseAttrs=function(e){var t=e.attributes,n={};for(var r in t)t.hasOwnProperty(r)&&(n[t[r].name]=t[r].value);return n},fbUtils.parseOptions=function(e){var t=e.getElementsByTagName("option"),n={},r=[];if(t.length)for(var a=0;a<t.length;a++)n=fbUtils.parseAttrs(t[a]),n.label=t[a].textContent,r.push(n);return r},fbUtils.parseXML=function(e){var t=new window.DOMParser,n=t.parseFromString(e,"text/xml"),r=[];if(n)for(var a=n.getElementsByTagName("field"),i=0;i<a.length;i++){var o=fbUtils.parseAttrs(a[i]);o.values=fbUtils.parseOptions(a[i]),r.push(o)}return r},fbUtils.escapeHtml=function(e){var t=document.createElement("textarea");return t.textContent=e,t.innerHTML},fbUtils.escapeAttr=function(e){function t(e){return n[e]||e}var n={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};return"string"==typeof e?e.replace(/["&<>]/g,t):e},fbUtils.escapeAttrs=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=fbUtils.escapeAttr(e[t]));return e},function(e){e.fn.formRender=function(e){this.each(function(){var t=new FormRenderFn(e,this);return t})}}(jQuery);